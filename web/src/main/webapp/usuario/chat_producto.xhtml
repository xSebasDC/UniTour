<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<ui:composition template="../WEB-INF/template.xhtml">
    <ui:define name="title"> #{chatBean.producto.nombre} </ui:define>
    <ui:define name="content">
        <div class="container" align="center">
            <p:card styleClass="card"
                    style="width: 70%; margin: 2% -5%; max-width: 100%; resize: both; alignment: center !important;">
                <p style="font-size: 18px">
                    <b>Comunicate con el vendedor:</b> #{chatBean.producto.usuario.nombre}
                    <b>sobre el producto</b> #{chatBean.producto.nombre}</p>
                <div class="blog-comment">
                    <ul class="comments">

                        <h:form>
                            <ul class="comments">
                                <p:dataList id="lista-m" value="#{chatBean.chat.listaMensajes}" var="mensaje"
                                            emptyMessage="No hay mensajes" type="definition">
                                    <li class="clearfix" jsf:rendered="#{!chatBean.mensajePropio(mensaje.codigo)}" >
                                        <div class="row" style="margin-bottom: 20px">
                                            <div class="col-2" align="left">
                                                <img src="../resources/img/cat.png" class="avatar" alt=""/>
                                            </div>
                                            <div class="col-10" align="left" style="width: 80%">
                                                <div class="card" align="left" style="padding: 10px">
                                                    <div class="col">
                                                        <p style="font-size: 15px" align="right">#{mensaje.fechaEstilo}</p>
                                                        <p class="meta" style="font-size: 16px; font-weight: bold">
                                                            <a style="color: black; text-decoration: none"> #{chatBean.chat.producto.usuario.nombre}</a>
                                                            <i class="pull-right" style="visibility: hidden"><a
                                                                    href="#"><small>Reply</small></a></i></p>
                                                    </div>
                                                    <p style="margin: 20px 10px">#{mensaje.mensaje}</p>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="clearfix" jsf:rendered="#{chatBean.mensajePropio(mensaje.codigo)}">
                                        <div class="row" style="margin-bottom: 20px">
                                            <div class="col-10" align="right" style="width: 80%">
                                                <div class="card" align="left" style="padding: 10px">
                                                    <div class="col">
                                                        <p style="font-size: 15px"
                                                           align="right">#{mensaje.fechaEstilo}</p>
                                                        <p class="meta" style="font-size: 16px; font-weight: bold">
                                                            <a style="color: black; text-decoration: none"> TÃº </a>
                                                            <i class="pull-right" style="visibility: hidden"><a
                                                                    href="#"><small>Reply</small></a></i></p>
                                                    </div>
                                                    <p style="margin: 20px 10px">#{mensaje.mensaje}</p>
                                                </div>
                                            </div>
                                            <div class="col-2" align="left">
                                                <img src="../resources/img/bear.png" class="avatar" alt=""/>
                                            </div>
                                        </div>
                                    </li>
                                </p:dataList>
                            </ul>
                            <ul class="comments">
                                <h:panelGrid columns="2" cellpadding="5" style="margin-top: 20px">
                                    <p:inputTextarea value="#{detalleProductoBean.respuesta}"
                                                     required="true" styleClass="comentario-usuario"
                                                     placeholder="Ingresa una mensaje"
                                                     style="width: 480px; max-height: 60px;"/>
                                    <p:commandButton value="Enviar" icon="pi pi-comment" iconPos="left"
                                                     styleClass="mt-4"/>
                                </h:panelGrid>
                                <p:growl showDetail="true" for="msj-bean"/>
                            </ul>

                        </h:form>
                    </ul>
                </div>


            </p:card>
        </div>
    </ui:define>
</ui:composition>
</html>